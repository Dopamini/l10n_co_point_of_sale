<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <template id="report_sessionsummary_inherit" inherit_id="point_of_sale.report_sessionsummary" name="Informe Diario Sesion">
        <xpath expr="//div[@class='page']" position="replace">
            <div class="page">
                <h2 style="text-align:center"><span t-field="o.user_id.company_id.name"/></h2>
                <h4 style="text-align:center;width: 100%;"><span t-field="o.user_id.company_id.partner_id.formatedNit"/></h4>
                <h2>Informe Diario de Ventas POS</h2>
                <div class="row mt32 mb32">
                    <div class="col-xs-3">
                        <strong>Sesion No: </strong>:<br/>
                        <span t-field="o.name"/>
                    </div>
                    <div class="col-xs-3">
                        <strong>Fecha de Comprobante</strong>:<br/>
                        <span t-field="o.stop_at"/>
                    </div>
                    <div class="col-xs-3">
                        <strong>Responsible</strong>:<br/>
                        <span t-field="o.user_id"/>
                    </div>
                    <div class="col-xs-3">
                        <strong>Punto de Venta</strong>:<br/>
                        <span t-field="o.config_id.name"/>
                    </div>
                    <div class="col-xs-3">
                        <strong>Indetificaci√≥n Hardware</strong>:<br/>
                        <span t-field="o.config_id.name"/>
                    </div>
                </div>
                <div class="row mt32 mb32">
                    <div class="col-xs-3">
                        <strong>Fecha Inicial</strong>:<br/>
                        <span t-field="o.start_at"/>
                    </div>
                    <div class="col-xs-3">
                        <strong>Fecha de cierre</strong>:<br/>
                        <span t-field="o.stop_at"/>
                    </div>
                </div>
                <div class="row mt32 mb32">
                    <div class="col-xs-3">
                        <strong>No. Registro Inicial</strong>:<br/>
                        <span t-field="o.order_ids[-1].name"/>
                    </div>
                    <div class="col-xs-3">
                        <strong>No. Registro Final</strong>:<br/>
                        <span t-field="o.order_ids[0].name"/>
                    </div>
                </div>
                <h4>Totales por Metodo de Pago</h4>
                <table class="table table-condensed mb32">
                    <thead>
                        <tr>
                            <th>
                                <strong>Reference</strong>
                            </th>
                            <th>
                                <strong>Journal</strong>
                            </th>
                            <th class="text-right">
                                <strong>Starting Balance</strong>
                            </th>
                            <th class="text-right">
                                <strong>Total Transactions</strong>
                            </th>
                            <th class="text-right">
                                <strong>Ending Balance</strong>
                            </th>
                            <th class="text-right">
                                <strong>Difference</strong>
                            </th>
                            <th class="text-right" groups="base.group_multi_currency">
                                <strong>Currency</strong>
                            </th>
                            <th class="text-right">
                                <strong>Status</strong>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="o.statement_ids" t-as="statement">
                            <td><span t-field="statement.name"/></td>
                            <td><span t-field="statement.journal_id"/></td>
                            <td class="text-right">
                                <span t-field="statement.balance_start"
                                    t-field-options='{"widget": "monetary", "display_currency": "statement.currency_id"}'/>
                            </td>
                            <td class="text-right">
                                <span t-field="statement.total_entry_encoding"
                                    t-field-options='{"widget": "monetary", "display_currency": "statement.currency_id"}'/>
                            </td>
                            <td class="text-right">
                                <span t-field="statement.balance_end_real"
                                    t-field-options='{"widget": "monetary", "display_currency": "statement.currency_id"}'/>
                            </td>
                            <td class="text-right">
                                <span t-field="statement.difference"
                                    t-field-options='{"widget": "monetary", "display_currency": "statement.currency_id"}'/>
                            </td>
                            <td class="text-right" groups="base.group_multi_currency">
                                <span t-field="statement.currency_id"/>
                            </td>
                            <td class="text-right"><span t-field="statement.state"/></td>
                        </tr>
                    </tbody>
                    </table>
                        
                        <h4>Ventas Detalladas:</h4>

                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th>Ref Venta</th>
                                    <th>Valor sin Iva</th>
                                    <th>Iva</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="o.order_ids" t-as="order">
                                    <tr>
                                        <td><span t-field="order.name"/></td>
                                        <td><span t-field="order.invoice_id.amount_untaxed"/></td>
                                        <td><span t-field="order.invoice_id.amount_tax"/></td>
                                    </tr>
                                </t>
                                
                            </tbody>
                        </table>               
            </div>
        </xpath>
    </template>
<template id="report_sessionsummary">
    <t t-call="report.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="report.internal_layout">
                
            </t>
        </t>
    </t>
</template>
</data>
</openerp>
